<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Us - MediLink</title>
    <link rel="stylesheet" href="/css/contact.css">
    <script>
        // Function to display a success message
        function showSuccessMessage(event) {
            // Display the success notification
            alert('Your message has been successfully submitted!');

            // Submit the form after the message is displayed
            document.getElementById("contactForm").submit();
        }

        // Function to handle the return to patient page URL
        function returnHome() {
            const username = document.getElementById('usernameSpan').textContent; // Get the username directly
            const returnUrl = "/returnPatient.html?username=" + encodeURIComponent(username); // Construct URL with username
            window.location.href = returnUrl; // Redirect to return URL with username
        }
        
    </script>
</head>
<body>

    <!-- Main Section -->
    <main class="container contact-form-container">
        <hgroup class="heading-group">
            <h2>Get in Touch with MediLink</h2>
            <h3>We are here to help with any questions or concerns</h3>
        </hgroup>

        <!-- Contact Form -->
        <form class="contact-form" id="contactForm" method="POST" action="/api/contact/send" onsubmit="showSuccessMessage(event)">
            <h2>User Name: <span id="usernameSpan" th:text="${username}"></span></h2>
            <input type="hidden" id="name" name="name" th:value="${username}" required>

            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="Your Email" required>

            <label for="subject">Subject</label>
            <input type="text" id="subject" name="subject" placeholder="Subject" required>

            <label for="message">Message</label>
            <textarea id="message" name="message" placeholder="Your Message" rows="5" required></textarea>

            <button type="submit" class="submit-btn">Submit</button>
            <!-- Return to Patient Button -->
            <button type="button" class="return-home-btn" onclick="returnHome()">Return to Patient</button>
        </form>

        <!-- Contact Details -->
        <section class="contact-details">
            <h3>Contact Details</h3>
            <p><strong>Address:</strong> 123 MediLink St., Medical City</p>
            <p><strong>Phone:</strong> +123 456 7890</p>
            <p><strong>Email:</strong> support@medilink.com</p>
        </section>
    </main>

</body>
</html>
